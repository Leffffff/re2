#!/usr/bin/env bash
em++ scripts/cAPI/re2Wrapper.cc basement/re2.cc basement/filtered_re2.cc basement/prefilter_tree.cc basement/regexp.cc basement/stringpiece.cc basement/unicode_*.cc basement/perl_groups.cc basement/parse.cc basement/rune.cc basement/simplify.cc basement/compile.cc basement/prog.cc basement/nfa.cc basement/onepass.cc basement/prefilter.cc basement/dfa.cc basement/bitstate.cc basement/tostring.cc -o bin/re2Lib.js -s LINKABLE=1 -s EXPORT_ALL=1 -s EXTRA_EXPORTED_RUNTIME_METHODS='["stringToUTF8", "UTF8ToString"]' -s WASM_ASYNC_COMPILATION=0 -s ALLOW_MEMORY_GROWTH=1 -O3
